class Req104:
    def __init__(self, req_type, search_keyword_or_job_id=None):
        self.headers = {
            "User-Agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36 Edg/120.0.0.0",
            "Cookie": "luauid=1886703560; ACUD=19542e24-9f4a-49c1-9853-d7c3c1e7be57; _ga=GA1.4.1007433062.1673777161; __auc=10eb01d0185b4f475adb02aeba5; _hjSessionUser_3218023=eyJpZCI6ImYzOTg3MTNkLTdkY2MtNWMxZS1iYTI0LTUxNWNkZThjZDU1ZCIsImNyZWF0ZWQiOjE2NzM3NzcxOTUxNDMsImV4aXN0aW5nIjp0cnVlfQ==; _ga_6NM1YTENCG=GS1.1.1673856698.1.1.1673856712.0.0.0; _hjSessionUser_601941=eyJpZCI6ImE1ZTJlMmYxLWZjNDUtNTFiZS05NjI5LTZjODQ1OWY2ZjhiZiIsImNyZWF0ZWQiOjE2NzM3NzcyMzQxMzUsImV4aXN0aW5nIjp0cnVlfQ==; _hjSessionUser_642678=eyJpZCI6ImM1M2Y3ZjY4LTA1Y2ItNTFlNS05MGI5LTRlNjlhNjcyOGRjNyIsImNyZWF0ZWQiOjE2NzM4NTcxNTY1OTAsImV4aXN0aW5nIjp0cnVlfQ==; _ga_W9X1GB1SVR=deleted; _ga_WYQPBGBV8Z=GS1.1.1676332260.54.1.1676332269.51.0.0; _hjSessionUser_1160171=eyJpZCI6IjJjMzFhNTkyLTY0MjYtNTE2Mi04ZDI2LTdiY2UxYThmNTZhMyIsImNyZWF0ZWQiOjE2Nzg3OTUxNDM1OTMsImV4aXN0aW5nIjpmYWxzZX0=; _ga_9M2435MMPG=GS1.1.1678795143.1.1.1678795155.0.0.0; _ga_LQE3H5BS2W=GS1.1.1678846516.1.1.1678846576.0.0.0; _ga_FJWMQR9J2K=deleted; dtCookie=v_4_srv_3_sn_E103AD3A1453A9CE3EB85C6C67F48D0A_perc_100000_ol_0_mul_1_app-3Aea7c4b59f27d43eb_0_app-3Ae09751cb0ddc5f9d_0; TS012d3931=01180e452d2fa61998c888950c5f437f3476efbefcf74ab869985fe2af141c8292a3dce1952af06477321c05b6ea5124588dd4651e9224e97371b5286e853d708d44bdab3c; TS01952b90=01180e452d6f0b3df9d57aa94a3dfe892441b49dc0857c6444178420c9a1ba53c7ebf5edad71a3e2678daffc02c483d88168b6ebf290aab208ecb453d79c09166ca17a346380d4d3b00065547f0d61d7c217a441aa8456b2a97fdd53d2ef05375774e979ac59ff631b21c11c7feb02bdf8a08a2d1e082895f65b1b6b76d0257c34b1a9db2f73dfa3e13a55b04cc641f5202c5bac1cea105cc80c167f76baf6cf34daf311ca; setHomePage=0; _ga_PKQ3ZT2828=GS1.1.1702556488.2.1.1702556501.47.0.0; EPK=8f27234a-8444-4694-ae59-005da00a3616; _hjSessionUser_1342751=eyJpZCI6IjE3OTdhODhjLTA5ZTktNWFhOS04OTg3LTFkYTZlMzE5ZWY1MiIsImNyZWF0ZWQiOjE3MDQxOTEyOTUxNzYsImV4aXN0aW5nIjpmYWxzZX0=; _ga_NJF1DCGRNK=GS1.1.1704191295.1.1.1704191315.0.0.0; _hjDonePolls=829535%2C787456%2C880533; _ga_W9X1GB1SVR=GS1.1.1704463604.95.1.1704465209.60.0.0; _ga_E3NC24NJWW=GS1.4.1705027453.5.1.1705027471.0.0.0; _hjMinimizedPolls=787456%2C856903%2C880533%2C869445; cancelApplyIntro=1; c_job_algo_exp_poc=C; c_job_algo_exp_date_poc=G; _gcl_au=1.1.712348052.1701753606.233449139.1705721956.1705721955; _uetvid=764144d0b40711ee8c7fb9bfc71c67d9; _ga_D4915X27HH=GS1.1.1705751935.13.1.1705755656.0.0.0; _ga_CBC4Z4CF01=GS1.1.1705751935.12.1.1705755656.0.0.0; TS016ab800=01180e452dcff2c8dfd5c53bee34061ebc56b1b6820c986b048e7e26c7e6c2afd67958ee346fe4cb8cbc786486886d639f9963d3b3bdb6b5561519b38537a4421782a9136511b3da902219aa0db9d3cc00711a94a20ec2af741aa8fd68505046aadf0e339763df6409a286b0f803b83f6a314778e0f3e845f5d949f560b5d3a642a4bf7648fbb51c5a888b7a0b9d1041a6dc4f32c2; _fbp=fb.2.1706011271596.736927674; _gid=GA1.3.141795209.1706186660; job_same_ab=2; _hp2_id.3192618648=%7B%22userId%22%3A%225234725469666068%22%2C%22pageviewId%22%3A%221463766221202277%22%2C%22sessionId%22%3A%224477571261626097%22%2C%22identity%22%3Anull%2C%22trackerVersion%22%3A%224.0%22%7D; JBCLOGIN=z944TMvxeh01EiQgSLAe3Ht2V7dz9otTj5ZX2AyHi29Rn; _ga_TTXLT7SQ8E=GS1.1.1706247485.16.0.1706247488.57.0.0; cust_same_ab=1; AC=1706277602; TS01f8a99d=01180e452d23d51516a3a069f79f94276cf55bda0f52d835ce04438fdc1702ff5e5e91ffb33b0c294494a8efaf321dabb78ef7399c90bf26961bc2900ffc4a7dc48ecf50782504146866206da123dfa2111809ed7987763dc16794e027f6674a8e956f1c8d5d784dc4385ddb54fc0a8c5e9d76fa7e; _ga=GA1.1.1007433062.1673777161; bubble=77_439_121_416048_0_0_0_0; _hjSession_3218023=eyJpZCI6ImZlYmJjNTk0LWEzYTEtNDU2MS1iNzQ4LThiMWJlOTliNTFhYSIsImMiOjE3MDYzMjU5MzUzODQsInMiOjAsInIiOjAsInNiIjowLCJzciI6MCwic2UiOjAsImZzIjowLCJzcCI6MX0=; _clck=1sf0hdo%7C2%7Cfir%7C0%7C1228; _clsk=1ua7dis%7C1706325940196%7C1%7C1%7Cs.clarity.ms%2Fcollect; bprofile_history=%5B23525871000%2C130000000222563%2C97171606000%2C16151427000%2C70565450000%2C27767168000%2C130000000163449%2C16627697000%2C16300572000%2C130000000129954%2C12950785000%5D; c_job_view_job_info_nabi=7zz8h%2C2007001004%2C2007001006%2C2007001007; lup=1886703560.5035849152215.5536212841966.1.4640712161167; lunp=5536212841966; _ga_W9X1GB1SVR=GS1.1.1706324106.196.1.1706325980.12.0.0; _ga_FJWMQR9J2K=GS1.1.1706324106.202.1.1706325980.12.0.0; _ga_WYQPBGBV8Z=GS1.4.1706324106.154.1.1706325980.12.0.0",
            "Referer": ""
        }
        self.url = ""
        # self.params = ""

        if req_type == "applyRecord":
            self.url = "https://pda.104.com.tw/applyRecord/ajax/list?status=all&page="
            self.headers["Referer"] = "https://pda.104.com.tw/applyRecord"
        elif req_type == "search":
            self.url = f'https://www.104.com.tw/jobs/search/list?ro=0&kwop=7&keyword={search_keyword_or_job_id}&expansionType=area%2Cspec%2Ccom%2Cjob%2Cwf%2Cwktm&order=12&asc=0&mode=s&jobsource=n_my104_search_h&langFlag=0&langStatus=0&recommendJob=0&hotJob=0&page='
            self.headers["Referer"] = "https://www.104.com.tw/jobs/search/"
        elif req_type == "similarJobs":
            self.url = f'https://www.104.com.tw/job/ajax/similarJobs/{search_keyword_or_job_id}?mode=s&page='
            self.headers["Referer"] = f'https://www.104.com.tw/job/similar/{search_keyword_or_job_id}?jobsource=analysis_jobsame_b&recommendJob=0&hotJob=0'
        elif req_type == "job":
            self.url = f'https://www.104.com.tw/job/ajax/content/{search_keyword_or_job_id}'
            self.headers["Referer"] = f'https://www.104.com.tw/job/{search_keyword_or_job_id}'
        else:
            print("Incorrect listing_type")
